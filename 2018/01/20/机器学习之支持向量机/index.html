<!DOCTYPE html>




<html class="theme-next muse" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#fff">



  
  
    
      
    
    
      
    
  <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
  <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-flash.min.css" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
    
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  

  
    
      
    

    
  

  
    
    
    <link href="https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.4">


  <link rel="mask-icon" href="/images/safari-pinned-tab.svg?v=5.1.4" color="#fff">


  <link rel="manifest" href="/images/manifest.json">


  <meta name="msapplication-config" content="/images/browserconfig.xml" />



  <meta name="keywords" content="reuixiy,å“²å­¦,Hexo,åšå®¢,Coldplay" />










<meta name="description" content="æœºå™¨å­¦ä¹ å®æˆ˜ä¹‹SVM ã€€ã€€æ”¯æŒå‘é‡æœºè¿™éƒ¨åˆ†ç¡®å®å¾ˆå¤šï¼Œæƒ³è¦çœŸæ­£çš„å»ç†è§£å®ƒï¼Œä¸ä»…ä»…çŸ¥é“ç†è®ºï¼Œè¿˜è¦è¿›è¡Œç›¸å…³çš„ä»£ç ç¼–å†™å’Œæµ‹è¯•ï¼ŒäºŒè€…æƒ³å’Œç»“åˆï¼Œæ‰èƒ½æ›´å¥½çš„å¸®åŠ©æˆ‘ä»¬ç†è§£SVMè¿™ä¸€éå¸¸ä¼˜ç§€çš„åˆ†ç±»ç®—æ³• ã€€ã€€æ”¯æŒå‘é‡æœºæ˜¯ä¸€ç§äºŒç±»åˆ†ç±»ç®—æ³•ï¼Œå‡è®¾ä¸€ä¸ªå¹³é¢å¯ä»¥å°†æ‰€æœ‰çš„æ ·æœ¬åˆ†ä¸ºä¸¤ç±»ï¼Œä½äºæ­£ä¾§çš„æ ·æœ¬ä¸ºä¸€ç±»ï¼Œå€¼ä¸º+1ï¼Œè€Œä½äºè´Ÿä¸€ä¾§çš„æ ·æœ¬ä¸ºå¦å¤–ä¸€ç±»ï¼Œå€¼ä¸º-1ã€‚ ã€€ã€€æˆ‘ä»¬è¯´åˆ†ç±»ï¼Œä¸ä»…ä»…æ˜¯å°†ä¸åŒçš„ç±»åˆ«æ ·æœ¬åˆ†éš”å¼€ï¼Œè¿˜è¦ä»¥æ¯”è¾ƒå¤§çš„ç½®ä¿¡åº¦æ¥">
<meta property="og:type" content="article">
<meta property="og:title" content="æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº">
<meta property="og:url" content="http://yoursite.com/2018/01/20/æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº/index.html">
<meta property="og:site_name" content="æˆšç¼ä¼Ÿçš„å®¶å›­">
<meta property="og:description" content="æœºå™¨å­¦ä¹ å®æˆ˜ä¹‹SVM ã€€ã€€æ”¯æŒå‘é‡æœºè¿™éƒ¨åˆ†ç¡®å®å¾ˆå¤šï¼Œæƒ³è¦çœŸæ­£çš„å»ç†è§£å®ƒï¼Œä¸ä»…ä»…çŸ¥é“ç†è®ºï¼Œè¿˜è¦è¿›è¡Œç›¸å…³çš„ä»£ç ç¼–å†™å’Œæµ‹è¯•ï¼ŒäºŒè€…æƒ³å’Œç»“åˆï¼Œæ‰èƒ½æ›´å¥½çš„å¸®åŠ©æˆ‘ä»¬ç†è§£SVMè¿™ä¸€éå¸¸ä¼˜ç§€çš„åˆ†ç±»ç®—æ³• ã€€ã€€æ”¯æŒå‘é‡æœºæ˜¯ä¸€ç§äºŒç±»åˆ†ç±»ç®—æ³•ï¼Œå‡è®¾ä¸€ä¸ªå¹³é¢å¯ä»¥å°†æ‰€æœ‰çš„æ ·æœ¬åˆ†ä¸ºä¸¤ç±»ï¼Œä½äºæ­£ä¾§çš„æ ·æœ¬ä¸ºä¸€ç±»ï¼Œå€¼ä¸º+1ï¼Œè€Œä½äºè´Ÿä¸€ä¾§çš„æ ·æœ¬ä¸ºå¦å¤–ä¸€ç±»ï¼Œå€¼ä¸º-1ã€‚ ã€€ã€€æˆ‘ä»¬è¯´åˆ†ç±»ï¼Œä¸ä»…ä»…æ˜¯å°†ä¸åŒçš„ç±»åˆ«æ ·æœ¬åˆ†éš”å¼€ï¼Œè¿˜è¦ä»¥æ¯”è¾ƒå¤§çš„ç½®ä¿¡åº¦æ¥">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-05-05T07:27:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº">
<meta name="twitter:description" content="æœºå™¨å­¦ä¹ å®æˆ˜ä¹‹SVM ã€€ã€€æ”¯æŒå‘é‡æœºè¿™éƒ¨åˆ†ç¡®å®å¾ˆå¤šï¼Œæƒ³è¦çœŸæ­£çš„å»ç†è§£å®ƒï¼Œä¸ä»…ä»…çŸ¥é“ç†è®ºï¼Œè¿˜è¦è¿›è¡Œç›¸å…³çš„ä»£ç ç¼–å†™å’Œæµ‹è¯•ï¼ŒäºŒè€…æƒ³å’Œç»“åˆï¼Œæ‰èƒ½æ›´å¥½çš„å¸®åŠ©æˆ‘ä»¬ç†è§£SVMè¿™ä¸€éå¸¸ä¼˜ç§€çš„åˆ†ç±»ç®—æ³• ã€€ã€€æ”¯æŒå‘é‡æœºæ˜¯ä¸€ç§äºŒç±»åˆ†ç±»ç®—æ³•ï¼Œå‡è®¾ä¸€ä¸ªå¹³é¢å¯ä»¥å°†æ‰€æœ‰çš„æ ·æœ¬åˆ†ä¸ºä¸¤ç±»ï¼Œä½äºæ­£ä¾§çš„æ ·æœ¬ä¸ºä¸€ç±»ï¼Œå€¼ä¸º+1ï¼Œè€Œä½äºè´Ÿä¸€ä¾§çš„æ ·æœ¬ä¸ºå¦å¤–ä¸€ç±»ï¼Œå€¼ä¸º-1ã€‚ ã€€ã€€æˆ‘ä»¬è¯´åˆ†ç±»ï¼Œä¸ä»…ä»…æ˜¯å°†ä¸åŒçš„ç±»åˆ«æ ·æœ¬åˆ†éš”å¼€ï¼Œè¿˜è¦ä»¥æ¯”è¾ƒå¤§çš„ç½®ä¿¡åº¦æ¥">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":true,"transition":{"post_block":"perspectiveLeftIn","post_header":"fadeIn","post_body":"fadeIn","coll_header":"perspectiveLeftIn","sidebar":null}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/01/20/æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº/"/>





  <title>æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº | æˆšç¼ä¼Ÿçš„å®¶å›­</title>
  








</head>


<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  


  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">æˆšç¼ä¼Ÿçš„å®¶å›­</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æ­»äº¡æ˜¯äººç”Ÿä¸­æœ€ä¼Ÿå¤§çš„å‘æ˜.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-top">
          <a href="/top/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heart"></i> <br />
            
            TopX
          </a>
        </li>
      
        
        <li class="menu-item menu-item-life">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-camera"></i> <br />
            
            ç”Ÿæ´»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-futbol-o"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="æœç´¢..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/20/æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="joyoQi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æˆšç¼ä¼Ÿçš„å®¶å›­">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-20T10:22:24+08:00">
                2018-01-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æœºå™¨å­¦ä¹ /" itemprop="url" rel="index">
                    <span itemprop="name">æœºå™¨å­¦ä¹ </span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/01/20/æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº/" class="leancloud_visitors" data-flag-title="æœºå™¨å­¦ä¹ ä¹‹æ”¯æŒå‘é‡æœº">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  7,061
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="/assets/js/APlayer.min.js"> </script><p>æœºå™¨å­¦ä¹ å®æˆ˜ä¹‹SVM</p>
<p>ã€€ã€€æ”¯æŒå‘é‡æœºè¿™éƒ¨åˆ†ç¡®å®å¾ˆå¤šï¼Œæƒ³è¦çœŸæ­£çš„å»ç†è§£å®ƒï¼Œä¸ä»…ä»…çŸ¥é“ç†è®ºï¼Œè¿˜è¦è¿›è¡Œç›¸å…³çš„ä»£ç ç¼–å†™å’Œæµ‹è¯•ï¼ŒäºŒè€…æƒ³å’Œç»“åˆï¼Œæ‰èƒ½æ›´å¥½çš„å¸®åŠ©æˆ‘ä»¬ç†è§£SVMè¿™ä¸€éå¸¸ä¼˜ç§€çš„åˆ†ç±»ç®—æ³•</p>
<p>ã€€ã€€æ”¯æŒå‘é‡æœºæ˜¯ä¸€ç§äºŒç±»åˆ†ç±»ç®—æ³•ï¼Œå‡è®¾ä¸€ä¸ªå¹³é¢å¯ä»¥å°†æ‰€æœ‰çš„æ ·æœ¬åˆ†ä¸ºä¸¤ç±»ï¼Œä½äºæ­£ä¾§çš„æ ·æœ¬ä¸ºä¸€ç±»ï¼Œå€¼ä¸º+1ï¼Œè€Œä½äºè´Ÿä¸€ä¾§çš„æ ·æœ¬ä¸ºå¦å¤–ä¸€ç±»ï¼Œå€¼ä¸º-1ã€‚</p>
<p>ã€€ã€€æˆ‘ä»¬è¯´åˆ†ç±»ï¼Œä¸ä»…ä»…æ˜¯å°†ä¸åŒçš„ç±»åˆ«æ ·æœ¬åˆ†éš”å¼€ï¼Œè¿˜è¦ä»¥æ¯”è¾ƒå¤§çš„ç½®ä¿¡åº¦æ¥åˆ†éš”è¿™äº›æ ·æœ¬ï¼Œè¿™æ ·æ‰èƒ½ä½¿ç»å¤§éƒ¨åˆ†æ ·æœ¬è¢«åˆ†å¼€ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³é€šè¿‡ä¸€ä¸ªå¹³é¢å°†ä¸¤ä¸ªç±»åˆ«çš„æ ·æœ¬åˆ†å¼€ï¼Œå¦‚æœè¿™äº›æ ·æœ¬æ˜¯çº¿æ€§å¯åˆ†ï¼ˆæˆ–è€…è¿‘è§†çº¿æ€§å¯åˆ†ï¼‰ï¼Œé‚£ä¹ˆè¿™æ ·çš„å¹³é¢æœ‰å¾ˆå¤šï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬åŠ ä¸Šè¦ä»¥æœ€å¤§çš„ç½®ä¿¡åº¦æ¥å°†è¿™äº›æ ·æœ¬åˆ†å¼€ï¼Œé‚£ä¹ˆè¿™æ ·çš„å¹³é¢åªæœ‰ä¸€æ¡ã€‚é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½æ‰¾åˆ°è¿™æ ·çš„å¹³é¢å‘¢ï¼Ÿè¿™é‡Œä¸å¾—ä¸æåˆ°å‡ ä¸ªæ¦‚å¿µ<br><a id="more"></a> </p>
<p>1 å‡ ä½•é—´éš”</p>
<p>ã€€ã€€å‡ ä½•é—´éš”çš„æ¦‚å¿µï¼Œç®€å•ç†è§£å°±æ˜¯æ ·æœ¬ç‚¹åˆ°åˆ†éš”å¹³é¢çš„è·ç¦»</p>
<p>2 é—´éš”æœ€å¤§åŒ–</p>
<p>ã€€ã€€æƒ³è¦é—´éš”æœ€å¤§åŒ–ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°è·ç¦»åˆ†éš”å¹³é¢æœ€è¿‘çš„ç‚¹ï¼Œå¹¶ä¸”ä½¿å¾—è·ç¦»å¹³é¢æœ€è¿‘çš„ç‚¹å°½å¯èƒ½çš„è·ç¦»å¹³é¢æœ€è¿œï¼Œè¿™æ ·ï¼Œæ¯ä¸€ä¸ªæ ·æœ¬å°±éƒ½èƒ½å¤Ÿä»¥æ¯”è¾ƒå¤§çš„ç½®ä¿¡åº¦è¢«åˆ†éš”å¼€</p>
<p>ç®—æ³•çš„åˆ†ç±»é¢„æµ‹èƒ½åŠ›ä¹Ÿå°±è¶Šå¥½</p>
<p>ã€€ã€€æ˜¾ç„¶ï¼ŒSVMç®—æ³•çš„å…³é”®æ‰€åœ¨ï¼Œå°±æ˜¯æ‰¾åˆ°ä½¿å¾—é—´éš”æœ€å¤§åŒ–çš„åˆ†éš”è¶…å¹³é¢ï¼ˆå¦‚æœç‰¹å¾æ˜¯é«˜ç»´åº¦çš„æƒ…å†µï¼Œæˆ‘ä»¬ç§°è¿™æ ·çš„å¹³é¢ä¸ºè¶…å¹³é¢ï¼‰</p>
<p>ã€€ã€€è¿™é‡Œå…³äºSVMå­¦ä¹ ï¼Œæ¨èä¸¤æœ¬ä¹¦ï¼šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ï¼ˆæèˆªï¼‰å’Œæœºå™¨å­¦ä¹ å®æˆ˜ï¼ŒäºŒè€…ç»“åˆï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£svmç®—æ³•</p>
<p>2 æ”¯æŒå‘é‡æœº</p>
<p>ã€€ã€€æ”¯æŒå‘é‡æœºçš„æ¨å¯¼ï¼Œå¯ä»¥çœ‹æèˆªçš„ç»Ÿè®¡ä¸å­¦ä¹ æ–¹æ³•ä¹¦ï¼Œå†™çš„æµ…æ˜¾æ˜“æ‡‚ã€‚</p>
<p>ã€€ã€€è¿™ä¸¤ä½åšä¸»éƒ½é‡ç‚¹è®²è§£äº†SVMçš„æ¨å¯¼è¿‡ç¨‹ã€‚è¿™é‡Œæˆ‘å°±æœ¬ç€ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šçš„æ€æƒ³ï¼Œä¸å†èµ˜è¿°ï¼Œæˆ‘çš„ä¾§é‡ç‚¹åœ¨äºå®é™…çš„ä»£ç ç¼–å†™ä¸Šï¼Œæ¯”è¾ƒç†è®ºæ€»å½’è¦å›åˆ°å®è·µä¸Šï¼Œè¿™ä¹Ÿæ˜¯æ¯ä¸ªç®—æ³•çš„å½’å®¿æ‰€åœ¨ã€‚</p>
<p>ã€€ã€€å¥½äº†ï¼Œä¸‹é¢æˆ‘å°±ç®€è¦å†™å‡ºç®€è¦ä»‹ç»ä¸€ä¸‹ï¼Œçº¿æ€§æ”¯æŒå‘é‡æœºï¼Œè¿‘ä¼¼çº¿æ€§æ”¯æŒå‘é‡æœºä»¥åŠéçº¿æ€§æ”¯æŒå‘é‡æœºï¼ˆæ ¸å‡½æ•°ï¼‰</p>
<p>1 çº¿æ€§æ”¯æŒå‘é‡æœº</p>
<p>ã€€ã€€æ±‚è§£çº¿æ€§æ”¯æŒå‘é‡æœºçš„è¿‡ç¨‹æ˜¯å‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜ï¼Œæ‰€è°“å‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜ï¼Œå°±æ˜¯ç›®æ ‡å‡½æ•°æ˜¯å‡¸çš„äºŒæ¬¡å¯å¾®å‡½æ•°ï¼Œçº¦æŸå‡½æ•°ä¸ºä»¿å°„å‡½æ•°ï¼ˆæ»¡è¶³f(x)=a<em>x+b,a,xå‡ä¸ºnä¸ºå‘é‡ï¼‰ã€‚è€Œæˆ‘ä»¬è¯´æ±‚è§£å‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜å¯ä»¥åˆ©ç”¨å¯¹å¶ç®—æ³•â€“å³å¼•å…¥æ‹‰æ ¼æœ—æ—¥ç®—å­ï¼Œåˆ©ç”¨æ‹‰æ ¼æœ—æ—¥å¯¹å¶æ€§å°†åŸå§‹é—®é¢˜çš„æœ€ä¼˜è§£é—®é¢˜è½¬åŒ–ä¸ºæ‹‰æ ¼æœ—æ—¥å¯¹å¶é—®é¢˜ï¼Œè¿™æ ·å°±å°†æ±‚w</em>ï¼Œbçš„åŸå§‹é—®é¢˜çš„æå°é—®é¢˜è½¬åŒ–ä¸ºæ±‚alpha<em>ï¼ˆalpha&gt;=0ï¼‰çš„å¯¹å¶é—®é¢˜çš„æå¤§é—®é¢˜ï¼Œå³æ±‚å‡ºalpha</em>ï¼Œåœ¨é€šè¿‡KKTæ¡ä»¶æ±‚å‡ºå¯¹åº”çš„å‚æ•°w*ï¼Œbï¼Œä»è€Œæ‰¾åˆ°è¿™æ ·çš„é—´éš”æœ€å¤§åŒ–è¶…å¹³é¢ï¼Œè¿›è€Œåˆ©ç”¨è¯¥å¹³é¢å®Œæˆæ ·æœ¬åˆ†ç±»</p>
<p>2 è¿‘ä¼¼çº¿æ€§æ”¯æŒå‘é‡æœº</p>
<p>ã€€ã€€å½“æ•°æ®é›†å¹¶ä¸æ˜¯ä¸¥æ ¼çº¿æ€§å¯åˆ†æ—¶ï¼Œå³æ»¡è¶³ç»ä¸éƒ¨åˆ†æ ·æœ¬ç‚¹æ˜¯çº¿æ€§å¯åˆ†ï¼Œå­˜åœ¨æå°‘éƒ¨åˆ†å¼‚å¸¸ç‚¹ï¼›è¿™é‡Œä¹Ÿå°±æ˜¯è¯´å­˜åœ¨éƒ¨åˆ†æ ·æœ¬ä¸èƒ½æ»¡è¶³çº¦æŸæ¡ä»¶ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å¼•å…¥æ¾å¼›å› å­ï¼Œè¿™æ ·è¿™äº›æ ·æœ¬ç‚¹åˆ°è¶…å¹³é¢çš„å‡½æ•°è·ç¦»åŠ ä¸Šæ¾å¼›å› å­ï¼Œå°±èƒ½ä¿è¯è¢«è¶…å¹³é¢åˆ†éš”å¼€æ¥ï¼›å½“ç„¶ï¼Œæ·»åŠ äº†æ¾å¼›å› å­sigmaï¼Œæˆ‘ä»¬ä¹Ÿä¼šæ·»åŠ å¯¹åº”çš„ä»£ä»·é¡¹ï¼Œä½¿å¾—alphaæ»¡è¶³0=&lt;alpha&lt;=C</p>
<p>3 éçº¿æ€§æ”¯æŒå‘é‡æœº</p>
<p>ã€€ã€€æ˜¾ç„¶ï¼Œå½“æ•°æ®é›†ä¸æ˜¯çº¿æ€§å¯åˆ†çš„ï¼Œå³æˆ‘ä»¬ä¸èƒ½é€šè¿‡å‰é¢çš„çº¿æ€§æ¨¡å‹æ¥å¯¹æ•°æ®é›†è¿›è¡Œåˆ†ç±»ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»æƒ³åŠæ³•å°†è¿™äº›æ ·æœ¬ç‰¹å¾ç¬¦åˆçº¿æ€§æ¨¡å‹ï¼Œæ‰èƒ½é€šè¿‡çº¿æ€§æ¨¡å‹å¯¹è¿™äº›æ ·æœ¬è¿›è¡Œåˆ†ç±»ã€‚è¿™å°±è¦ç”¨åˆ°æ ¸å‡½æ•°ï¼Œæ ¸å‡½æ•°çš„åŠŸèƒ½å°±æ˜¯å°†ä½ç»´çš„ç‰¹å¾ç©ºé—´æ˜ å°„åˆ°é«˜ç»´çš„ç‰¹å¾ç©ºé—´ï¼Œè€Œåœ¨é«˜ç»´çš„ç‰¹å¾ç©ºé—´ä¸­ï¼Œè¿™äº›æ ·æœ¬è¿›è¿‡è½¬åŒ–åï¼Œå˜æˆäº†çº¿æ€§å¯åˆ†çš„æƒ…å†µï¼Œè¿™æ ·ï¼Œåœ¨é«˜ç»´ç©ºé—´ä¸­ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿåˆ©ç”¨çº¿æ€§æ¨¡å‹æ¥è§£å†³æ•°æ®é›†åˆ†ç±»é—®é¢˜</p>
<p>   å¥½äº†ï¼Œæˆ‘ä»¬å°±åªè®²è¿™ä¹ˆå†™å¤§è‡´çš„æ¦‚å¿µï¼Œå¦‚æœæƒ³è¦é€å½»ç†è§£SVMå»ºè®®è¿˜æ˜¯è¦çœ‹çœ‹ä¸Šé¢çš„ä¹¦å’Œåšå®¢æ–‡ç« ï¼Œç¯‡å¹…æœ‰é™ï¼Œæˆ‘è¿™é‡Œçš„ä¸­å¿ƒåœ¨äºå‡¸äºŒæ¬¡è§„åˆ’çš„ä¼˜åŒ–ç®—æ³•â€“SMO(åºåˆ—æœ€å°æœ€ä¼˜åŒ–ç®—æ³•)</p>
<p>3 SMOç®—æ³•</p>
<p>ã€€ã€€SMOæ˜¯ä¸€ç§ç”¨äºè®­ç»ƒSVMçš„å¼ºå¤§ç®—æ³•ï¼Œå®ƒå°†å¤§çš„ä¼˜åŒ–é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå°çš„ä¼˜åŒ–é—®é¢˜æ¥è¿›è¡Œæ±‚è§£ã€‚è€Œè¿™äº›å°ä¼˜åŒ–é—®é¢˜å¾€å¾€å¾ˆå®¹æ˜“æ±‚è§£ï¼Œå¹¶ä¸”å¯¹å®ƒä»¬è¿›è¡Œé¡ºåºæ±‚è§£å’Œå¯¹æ•´ä½“æ±‚è§£ç»“æœæ˜¯ä¸€è‡´çš„ã€‚åœ¨ç»“æœä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œæ˜¾ç„¶SMOç®—æ³•çš„æ±‚è§£æ—¶é—´è¦çŸ­å¾ˆå¤šï¼Œè¿™æ ·å½“æ•°æ®é›†å®¹é‡å¾ˆå¤§æ—¶ï¼ŒSMOå°±æ˜¯ä¸€è‡´ååˆ†é«˜æ•ˆçš„ç®—æ³•</p>
<p>ã€€ã€€SMOç®—æ³•çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ç³»åˆ—alphaå’Œbï¼Œè€Œæ±‚å‡ºè¿™äº›alphaï¼Œæˆ‘ä»¬å°±èƒ½æ±‚å‡ºæƒé‡wï¼Œè¿™æ ·å°±èƒ½å¾—åˆ°åˆ†éš”è¶…å¹³é¢ï¼Œä»è€Œå®Œæˆåˆ†ç±»ä»»åŠ¡</p>
<p>ã€€ã€€SMOç®—æ³•çš„å·¥ä½œåŸç†æ˜¯ï¼šæ¯æ¬¡å¾ªç¯ä¸­é€‰æ‹©ä¸¤ä¸ªalphaè¿›è¡Œä¼˜åŒ–å¤„ç†ã€‚ä¸€æ—¦æ‰¾åˆ°ä¸€å¯¹åˆé€‚çš„alphaï¼Œé‚£ä¹ˆå°±å¢å¤§å…¶ä¸­ä¸€ä¸ªè€Œå‡å°‘å¦å¤–ä¸€ä¸ªã€‚è¿™é‡Œçš„â€åˆé€‚â€,æ„å‘³ç€åœ¨é€‰æ‹©alphaå¯¹æ—¶å¿…é¡»æ»¡è¶³ä¸€å®šçš„æ¡ä»¶ï¼Œæ¡ä»¶ä¹‹ä¸€æ˜¯è¿™ä¸¤ä¸ªalphaä¸æ»¡è¶³æœ€ä¼˜åŒ–é—®é¢˜çš„kktæ¡ä»¶ï¼Œå¦å¤–ä¸€ä¸ªæ¡ä»¶æ˜¯è¿™ä¸¤ä¸ªalphaè¿˜æ²¡æœ‰è¿›è¡ŒåŒºé—´åŒ–å¤„ç†</p>
<p>ã€€ã€€å¯¹äºSMOç®—æ³•ç¼–å†™ï¼Œæˆ‘ä»¬é‡‡ç”¨ç”±ç®€å•åˆ°å¤æ‚çš„æ–¹æ³•ï¼Œå±‚å±‚é€’è¿›ï¼Œå®Œæˆæœ€ç»ˆçš„SMOç®—æ³•å®ç°ï¼Œæœ€åé€šè¿‡å®é™…çš„ç”¨ä¾‹å¯¹SVMæ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œå¹¶éªŒè¯å‡†ç¡®æ€§</p>
<p>1 ç®€åŒ–ç‰ˆSMOç®—æ³•</p>
<p>ã€€ã€€ç®€åŒ–ç‰ˆSMOç®—æ³•ï¼Œçœç•¥äº†ç¡®å®šè¦ä¼˜åŒ–çš„æœ€ä½³alphaå¯¹çš„æ­¥éª¤ï¼Œè€Œæ˜¯é¦–å…ˆåœ¨æ•°æ®é›†ä¸Šè¿›è¡Œéå†æ¯ä¸€ä¸ªalphaï¼Œå†åœ¨å‰©ä½™çš„æ•°æ®é›†ä¸­æ‰¾åˆ°å¦å¤–ä¸€ä¸ªalphaï¼Œæ„æˆè¦ä¼˜åŒ–çš„alphaå¯¹ï¼ŒåŒæ—¶å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œè¿™é‡Œçš„åŒæ—¶æ˜¯è¦ç¡®ä¿å…¬å¼ï¼šÎ£Î±i*label(i)=0ã€‚æ‰€ä»¥æ”¹å˜ä¸€ä¸ªalphaæ˜¾ç„¶ä¼šå¯¼è‡´ç­‰å¼å¤±æ•ˆï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦åŒæ—¶æ”¹å˜ä¸¤ä¸ªalphaã€‚æ¥ä¸‹æ¥çœ‹å®é™…çš„ä»£ç ï¼š</p>
<p>ã€€ã€€ç®€æ˜“ç‰ˆSMOç®—æ³•çš„è¾…åŠ©å‡½æ•°ï¼š</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#SMOç®—æ³•ç›¸å…³è¾…åŠ©ä¸­çš„è¾…åŠ©å‡½æ•°</p>
<p>#1 è§£ææ–‡æœ¬æ•°æ®å‡½æ•°ï¼Œæå–æ¯ä¸ªæ ·æœ¬çš„ç‰¹å¾ç»„æˆå‘é‡ï¼Œæ·»åŠ åˆ°æ•°æ®çŸ©é˜µ</p>
<p>#æ·»åŠ æ ·æœ¬æ ‡ç­¾åˆ°æ ‡ç­¾å‘é‡<br>def loadDataSet(filename):<br>    dataMat=[];labelMat=[]<br>    fr=open(filename)<br>    for line in fr.readlines():<br>        lineArr=line.strip().split(â€˜\tâ€™)<br>        dataMat.append([float(lineArr[0]),float(lineArr[1])])<br>        labelMat.append((float()lineArr[2]))<br>    return dataMat,labelMat</p>
<p>#2 åœ¨æ ·æœ¬é›†ä¸­é‡‡å–éšæœºé€‰æ‹©çš„æ–¹æ³•é€‰å–ç¬¬äºŒä¸ªä¸ç­‰äºç¬¬ä¸€ä¸ªalphaiçš„</p>
<p>#ä¼˜åŒ–å‘é‡alphaj<br>def selectJrand(i,m):<br>    j=i<br>    while(j==i):<br>        j=int(random.uniform(0,m))<br>    return j</p>
<p>#3 çº¦æŸèŒƒå›´L&lt;=alphaj&lt;=Hå†…çš„æ›´æ–°åçš„alphajå€¼<br>def clipAlpha(aj,H,L):<br>    if aj&gt;H:<br>        aj=H<br>    if L&gt;ajï¼š<br>        aj=L<br>    return aj<br>å¤åˆ¶ä»£ç <br>ä¸Šé¢æ˜¯ç®€æ˜“ç‰ˆSMOç®—æ³•éœ€è¦ç”¨åˆ°çš„ä¸€äº›åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†å…¶åŒ…è£…æˆå‡½æ•°ï¼Œéœ€è¦æ—¶è°ƒç”¨å³å¯ï¼Œæ¥ä¸‹æ¥çœ‹ç®—æ³•çš„ä¼ªä»£ç ï¼š</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#SMOç®—æ³•çš„ä¼ªä»£ç </p>
<p>#åˆ›å»ºä¸€ä¸ªalphaå‘é‡å¹¶å°†å…¶åˆå§‹åŒ–ä¸º0å‘é‡</p>
<p>#å½“è¿­ä»£æ¬¡æ•°å°äºæœ€å¤§è¿­ä»£æ¬¡æ•°æ—¶(wå¤–å¾ªç¯)</p>
<pre><code>#å¯¹æ•°æ®é›†ä¸­æ¯ä¸ªæ•°æ®å‘é‡(å†…å¾ªç¯):
#å¦‚æœè¯¥æ•°æ®å‘é‡å¯ä»¥è¢«ä¼˜åŒ–ï¼š
    #éšæœºé€‰æ‹©å¦å¤–ä¸€ä¸ªæ•°æ®å‘é‡
    #åŒæ—¶ä¼˜åŒ–è¿™ä¸¤ä¸ªå‘é‡
    #å¦‚æœä¸¤ä¸ªå‘é‡éƒ½ä¸èƒ½è¢«ä¼˜åŒ–ï¼Œé€€å‡ºå†…å¾ªç¯
</code></pre><p>#å¦‚æœæ‰€æœ‰å‘é‡éƒ½æ²¡æœ‰è¢«ä¼˜åŒ–ï¼Œå¢åŠ è¿­ä»£æ¬¡æ•°ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯<br>å¤åˆ¶ä»£ç <br>å®é™…ä»£ç å¦‚ä¸‹ï¼š</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#@dataMat    ï¼šæ•°æ®åˆ—è¡¨</p>
<p>#@classLabelsï¼šæ ‡ç­¾åˆ—è¡¨</p>
<p>#@C          ï¼šæƒè¡¡å› å­ï¼ˆå¢åŠ æ¾å¼›å› å­è€Œåœ¨ç›®æ ‡ä¼˜åŒ–å‡½æ•°ä¸­å¼•å…¥äº†æƒ©ç½šé¡¹ï¼‰</p>
<p>#@toler      ï¼šå®¹é”™ç‡</p>
<p>#@maxIter    ï¼šæœ€å¤§è¿­ä»£æ¬¡æ•°<br>def smoSimple(dataMat,classLabels,C,toler,maxIter):</p>
<pre><code>#å°†åˆ—è¡¨å½¢å¼è½¬ä¸ºçŸ©é˜µæˆ–å‘é‡å½¢å¼
dataMatrix=mat(dataMatIn);labelMat=mat(classLabels).transpose()
#åˆå§‹åŒ–b=0ï¼Œè·å–çŸ©é˜µè¡Œåˆ—
b=0;m,n=shape(dataMatrix)
#æ–°å»ºä¸€ä¸ªmè¡Œ1åˆ—çš„å‘é‡
alphas=mat(zeros((m,1)))
#è¿­ä»£æ¬¡æ•°ä¸º0
iter=0
while(iter&lt;maxIter):
    #æ”¹å˜çš„alphaå¯¹æ•°
    alphaPairsChanged=0
    #éå†æ ·æœ¬é›†ä¸­æ ·æœ¬
    for i in range(m):
        #è®¡ç®—æ”¯æŒå‘é‡æœºç®—æ³•çš„é¢„æµ‹å€¼
        fXi=float(multiply(alphas,labelMat).T*\
        (dataMatrix*dataMatrix[i,:].T))+b
        #è®¡ç®—é¢„æµ‹å€¼ä¸å®é™…å€¼çš„è¯¯å·®
        Ei=fXi-float(labelMat[i])
        #å¦‚æœä¸æ»¡è¶³KKTæ¡ä»¶ï¼Œå³labelMat[i]*fXi&lt;1(labelMat[i]*fXi-1&lt;-toler)
        #and alpha&lt;C æˆ–è€…labelMat[i]*fXi&gt;1(labelMat[i]*fXi-1&gt;toler)and alpha&gt;0
        if((labelMat[i]*Ei&lt;-toler)and(alpha&lt;C))or\
        ((labelMat[i]*Ei&gt;toler)and(alpha[i]&gt;0))):
            #éšæœºé€‰æ‹©ç¬¬äºŒä¸ªå˜é‡alphaj
            j=selectJrand(i,m)
            #è®¡ç®—ç¬¬äºŒä¸ªå˜é‡å¯¹åº”æ•°æ®çš„é¢„æµ‹å€¼
            fXj=float(multiply(alphas,labelMat).T*\
                (dataMatrix*dataMatrix[j,:]).T)+b
            #è®¡ç®—ä¸æµ‹è¯•ä¸å®é™…å€¼çš„å·®å€¼
            Ej=fXj-float(label[j])
            #è®°å½•alphaiå’Œalphajçš„åŸå§‹å€¼ï¼Œä¾¿äºåç»­çš„æ¯”è¾ƒ
            alphaIold=alphas[i].copy()
            alphaJold=alphas[j].copy()
            #å¦‚ä½•ä¸¤ä¸ªalphaå¯¹åº”æ ·æœ¬çš„æ ‡ç­¾ä¸ç›¸åŒ
            if(labelMat[i]!=labelMat[j]):
                #æ±‚å‡ºç›¸åº”çš„ä¸Šä¸‹è¾¹ç•Œ
                L=max(0,alphas[j]-alphas[i])
                H=min(C,C+alphas[j]-alphas[i])
            else:
                L=max(0,alphas[j]+alphas[i]-C)
                H=min(C,alphas[j]+alphas[i])
            if L==H:print(&quot;L==H);continue
            #æ ¹æ®å…¬å¼è®¡ç®—æœªç»å‰ªè¾‘çš„alphaj
            #------------------------------------------
            eta=2.0*dataMatrix[i,:]*dataMatrix[j,:].T-\
                dataMatrix[i,:]*dataMatrix[i,:].T-\
                dataMatrix[j,:]*dataMatrix[j,:].T
            #å¦‚æœeta&gt;=0,è·³å‡ºæœ¬æ¬¡å¾ªç¯
            if eta&gt;=0:print(&quot;eta&gt;=0&quot;):continue
                alphas[j]-=labelMat[j]*(Ei-Ej)/eta
                alphas[j]=clipAlpha(alphas[j],H,L)
            #------------------------------------------    
            #å¦‚æœæ”¹å˜åçš„alphajå€¼å˜åŒ–ä¸å¤§ï¼Œè·³å‡ºæœ¬æ¬¡å¾ªç¯    
            if(abs(alphas[j]-alphaJold)&lt;0.00001):print(&quot;j not moving\
            enough&quot;);continue
            #å¦åˆ™ï¼Œè®¡ç®—ç›¸åº”çš„alphaiå€¼
            alphas[i]+=labelMat[j]*labelMat[i]*(alphaJold-alphas[j])
            #å†åˆ†åˆ«è®¡ç®—ä¸¤ä¸ªalphaæƒ…å†µä¸‹å¯¹äºçš„bå€¼
            b1=b-Ei-labelMat[i]*(alphas[i]-alphaIold)*\
                dataMatrix[i,:]*dataMat[i,:].T-\
                labelMat[j]*(alphas[j]-alphaJold)*\
                dataMatrix[i,:]*dataMatrix[j,:].T
            b2=b-Ej-labelMat[i]*(alphas[i]-alphaIold)*\
                dataMatrix[i,:]*dataMatrix[j,:].T-\
                labelMat[j]*(alphas[j]-alphaJold)*\
                dataMatrix[j,:]*dataMatrix[j,:].T
            #å¦‚æœ0&lt;alphai&lt;C,é‚£ä¹ˆb=b1
            if(0&lt;alphas[i]) and (C&gt;alphas[i]):b=b1
            #å¦åˆ™å¦‚æœ0&lt;alphai&lt;C,é‚£ä¹ˆb=b1
            elif (0&lt;alphas[j]) and (C&gt;alphas[j]):b=b2
            #å¦åˆ™ï¼Œalphaiï¼Œalphaj=0æˆ–C
            else:b=(b1+b2)/2.0
            #å¦‚æœèµ°åˆ°æ­¤æ­¥ï¼Œè¡¨é¢æ”¹å˜äº†ä¸€å¯¹alphaå€¼
            alphaPairsChanged+=1
            print(&quot;iter: &amp;d i:%d,paird changed %d&quot;,%(iter,i,alphaPairsChanged))
    #æœ€ååˆ¤æ–­æ˜¯å¦æœ‰æ”¹å˜çš„alphaå¯¹ï¼Œæ²¡æœ‰å°±è¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£
    if(alphaPairsChanged==0):iter+=1
    #å¦åˆ™ï¼Œè¿­ä»£æ¬¡æ•°ç½®0ï¼Œç»§ç»­å¾ªç¯
    else:iter=0
    print(&quot;iteration number: %d&quot; %iter)
#è¿”å›æœ€åçš„bå€¼å’Œalphaå‘é‡
return b,alphas
</code></pre><p>å¤åˆ¶ä»£ç <br>     ä¸Šé¢çš„ä»£ç é‡çœ‹èµ·æ¥å¾ˆå¤šï¼Œä½†äº‹å®ä¸Šåªè¦ç†è§£äº†SVMç®—æ³•çš„ç†è®ºçŸ¥è¯†ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£ï¼Œå…¶åªä¸è¿‡æ˜¯å°†ç†è®ºè½¬åŒ–ä¸ºæœºå™¨å¯ä»¥è¿è¡Œçš„è¯­è¨€è€Œå·²ã€‚</p>
<p>ã€€  ä¸Šé¢ä»£ç åœ¨ä¸€å°æ€§èƒ½ä¸€èˆ¬çš„ç¬”è®°æœ¬ä¸Šå¯¹100ä¸ªæ ·æœ¬çš„æ•°æ®é›†ä¸Šè¿è¡Œï¼Œæ”¶æ•›æ—¶é—´14.5ç§’ï¼Œå–å¾—äº†ä»¤äººæ»¡æ„çš„åˆ†ç±»æ•ˆæœ</p>
<pre><code>å½“ç„¶ï¼Œä¸Šé¢çš„ä»£ç é€šè¿‡å¯¹æ•´ä¸ªæ•°æ®é›†è¿›è¡Œä¸¤æ¬¡éå†çš„æ–¹æ³•æ¥å¯»æ‰¾alphaå¯¹çš„æ–¹æ³•ï¼Œæ˜¾ç„¶å­˜åœ¨ä¸€å®šçš„ä¸è¶³ï¼Œå¦‚æœæ•°æ®é›†è§„æ¨¡è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œæˆ–è®¸è¿˜å¯ä»¥æ»¡è¶³è¦æ±‚ã€‚ä½†æ˜¯å¯¹äºå¤§è§„æ¨¡çš„æ•°æ®é›†è€Œè¨€ï¼Œä¸Šé¢çš„ä»£ç æ˜¾ç„¶æ”¶æ•›é€Ÿåº¦éå¸¸æ…¢ï¼Œæ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æ­¤åŸºç¡€ä¸Šå¯¹é€‰å–åˆé€‚çš„alphaå¯¹æ–¹æ³•è¿›è¡Œæ”¹è¿›ï¼Œé‡‡ç”¨å¯å‘å¼çš„æ–¹æ³•æ¥é€‰å–åˆé€‚çš„alphaå¯¹ï¼Œä»è€Œæå‡è¿ç®—æ•ˆç‡ã€‚
</code></pre><p>2 å¯å‘å¼é€‰å–alphaå˜é‡çš„SMOç®—æ³•</p>
<p>ã€€ã€€å¯å‘å¼çš„SMOç®—æ³•ä¸€ä¸ªå¤–å¾ªç¯æ¥é€‰æ‹©ç¬¬ä¸€ä¸ªalphaå€¼ï¼Œå¹¶ä¸”å…¶é€‰æ‹©è¿‡ç¨‹ä¼šåœ¨ä¸‹é¢ä¸¤ç§æ–¹æ³•ä¹‹é—´è¿›è¡Œäº¤æ›¿ï¼š</p>
<p>ï¼ˆ1ï¼‰åœ¨æ‰€æœ‰æ•°æ®é›†ä¸Šè¿›è¡Œå•éæ‰«æ</p>
<p>ï¼ˆ2ï¼‰å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨é—´éš”è¾¹ç•Œä¸Šæ ·æœ¬ç‚¹è¿›è¡Œå•éæ‰«æï¼Œæ‰€è°“é—´éš”è¾¹ç•Œä¸Šçš„ç‚¹å³ä¸ºæ”¯æŒå‘é‡ç‚¹ã€‚</p>
<pre><code>æ˜¾ç„¶ï¼Œå¯¹äºæ•´ä¸ªæ•°æ®é›†éå†æ¯”è¾ƒå®¹æ˜“ï¼Œè€Œå¯¹äºé‚£äº›å¤„äºé—´éš”è¾¹ç•Œä¸Šçš„ç‚¹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº‹å…ˆå°†è¿™äº›ç‚¹å¯¹åº”çš„alphaå€¼æ‰¾å‡ºæ¥ï¼Œå­˜æ”¾åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œç„¶åå¯¹åˆ—è¡¨è¿›è¡Œéå†ï¼›æ­¤å¤–ï¼Œåœ¨é€‰æ‹©ç¬¬ä¸€ä¸ªalphaå€¼åï¼Œç®—æ³•ä¼šé€šè¿‡ä¸€ä¸ªå†…å¾ªç¯æ¥é€‰æ‹©ç¬¬äºŒä¸ªå€¼ï¼Œåœ¨ä¼˜åŒ–çš„è¿‡ç¨‹ä¸­ä¾æ®alphaçš„æ›´æ–°å…¬å¼Î±new,unc=aold+label*(Ei-Ej)/Î·ï¼Œ(Î·=dataMat[i,:]*dataMat[i,:].T+dataMat[j,:]*dataMat[j,:].T-2*dataMat[i,:]*dataMat[j,:].T),å¯çŸ¥alphaå€¼çš„å˜åŒ–ç¨‹åº¦æ›´Ei-Ejçš„å·®å€¼æˆæ­£æ¯”ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†ä½¿alphaæœ‰è¶³å¤Ÿå¤§çš„å˜åŒ–ï¼Œé€‰æ‹©ä½¿Ei-Ejæœ€å¤§çš„alphaå€¼ä½œä¸ºå¦å¤–ä¸€ä¸ªalphaã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å»ºç«‹ä¸€ä¸ªå…¨å±€çš„ç¼“å­˜ç”¨äºä¿å­˜è¯¯å·®å€¼ï¼Œä¾¿äºæˆ‘ä»¬é€‰æ‹©åˆé€‚çš„alphaå€¼
</code></pre><p>ã€€ã€€ä¸‹é¢æ˜¯åˆ›å»ºçš„ä¸€ä¸ªæ•°æ®ç»“æ„ç±»ï¼Œä¾¿äºæˆ‘ä»¬å­˜å–ç®—æ³•ä¸­éœ€è¦ç”¨åˆ°çš„é‡è¦æ•°æ®ï¼š</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#å¯å‘å¼SMOç®—æ³•çš„æ”¯æŒå‡½æ•°</p>
<p>#æ–°å»ºä¸€ä¸ªç±»çš„æ”¶æ®ç»“æ„ï¼Œä¿å­˜å½“å‰é‡è¦çš„å€¼<br>class optStruct:<br>    def <strong>init</strong>(self,dataMatIn,classLabels,C,toler):<br>        self.X=dataMatIn<br>        self.labelMat=classLabels<br>        self.C=C<br>        self.tol=toler<br>        self.m=shape(dataMatIn)[0]<br>        self.alphas=mat(zeros((self.m,1)))<br>        self.b=0<br>        self.eCache=mat(zeros((self.m,2)))</p>
<p>#æ ¼å¼åŒ–è®¡ç®—è¯¯å·®çš„å‡½æ•°ï¼Œæ–¹ä¾¿å¤šæ¬¡è°ƒç”¨<br>def calcEk(oS,k):<br>    fXk=float(multiply(oS.alphas,oS.labelMat).T<em>\<br>        (oS.X</em>oS.X[k,:].T))+oS.b<br>    Ek=fXk-float(oS.labelMat[k])<br>    return Ek</p>
<p>#ä¿®æ”¹é€‰æ‹©ç¬¬äºŒä¸ªå˜é‡alphajçš„æ–¹æ³•<br>def selectJ(i,oS,Ei):<br>    maxK=-1;maxDeltaE=-;Ej=0</p>
<pre><code>#å°†è¯¯å·®çŸ©é˜µæ¯ä¸€è¡Œç¬¬ä¸€åˆ—ç½®1ï¼Œä»¥æ­¤ç¡®å®šå‡ºè¯¯å·®ä¸ä¸º0
#çš„æ ·æœ¬
oS.eCache[i]=[1,Ei]
#è·å–ç¼“å­˜ä¸­Eiä¸ä¸º0çš„æ ·æœ¬å¯¹åº”çš„alphaåˆ—è¡¨
validEcacheList=nonzero(oS.Cache[:,0].A)[0]
#åœ¨è¯¯å·®ä¸ä¸º0çš„åˆ—è¡¨ä¸­æ‰¾å‡ºä½¿abs(Ei-Ej)æœ€å¤§çš„alphaj
if(len(validEcacheList)&gt;0):
    for k in validEcacheList:
        if k ==i:continue
        Ek=calcEk(oS,k)
        deltaE=abs(Ei-Ek)
        if(deltaE&gt;maxDeltaE):
            maxK=k;maxDeltaE=deltaE;Ej=Ek
    return maxK,Ej
else:
#å¦åˆ™ï¼Œå°±ä»æ ·æœ¬é›†ä¸­éšæœºé€‰å–alphaj
    j=selectJrand(i,oS.m)
    Ej=calcEk(oS,j)
return j,Ej
</code></pre><p>#æ›´æ–°è¯¯å·®çŸ©é˜µ<br>def updateEk(oS,k):<br>    Ek=calcEk(oS,k)<br>    oS.eCache[k]=[1,Ek]<br>å¤åˆ¶ä»£ç <br>ã€€ã€€å¥½äº†ï¼Œæœ‰äº†è¿™äº›è¾…åŠ©æ€§çš„å‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆå®¹æ˜“çš„å®ç°å¯å‘å¼çš„SMOç®—æ³•çš„å…·ä½“ä»£ç ï¼š</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#SMOå¤–å¾ªç¯ä»£ç <br>def smoP(dataMatIn,classLabels,C,toler,maxIter,kTup=(â€˜linâ€™,0))ï¼š</p>
<pre><code>#ä¿å­˜å…³é”®æ•°æ®
oS=optStruct(mat(dataMatIn),mat(classLabels).transpose(),C,toler)
iter=0
enrireSet=True;alphaPairsChanged=0
#é€‰å–ç¬¬ä¸€ä¸ªå˜é‡alphaçš„ä¸‰ç§æƒ…å†µï¼Œä»é—´éš”è¾¹ç•Œä¸Šé€‰å–æˆ–è€…æ•´ä¸ªæ•°æ®é›†
while(iter&lt;maxIter)and((alphaPairsChanged&gt;0)or(entireSet)):
    alphaPairsChanged=0
    #æ²¡æœ‰alphaæ›´æ–°å¯¹
    if entireSet:
        for i in range(oS.m):
            alphaPairsChanged+=innerL(i,oS)
        print(&quot;fullSet,iter: %d i:%d,pairs changed %d&quot;,%\
            (iter,i,alphaPairsChanged))
    else:
        #ç»Ÿè®¡alphaså‘é‡ä¸­æ»¡è¶³0&lt;alpha&lt;Cçš„alphaåˆ—è¡¨
        nonBoundIs=nonzero((oS.alphas.A)&gt;0)*(oS.alphas.A&lt;C))[0]
        for i in nonBoundIs:
            alphaPairsChanged+=innerL(i,oS)
            print(&quot;non-bound,iter: %d i:%d,pairs changed %d&quot;,%\
            (iter,i,alphaPairsChanged))
        iter+=1
    if entireSet:entireSet=False
    #å¦‚æœæœ¬æ¬¡å¾ªç¯æ²¡æœ‰æ”¹å˜çš„alphaå¯¹ï¼Œå°†entireSetç½®ä¸ºtrueï¼Œ
    #ä¸‹ä¸ªå¾ªç¯ä»éå†æ•°æ®é›†
    elif (alphaPairsChanged==0):entireSet=True
    print(&quot;iteration number: %d&quot;,%iter)
return oS.b,oS.alphas
</code></pre><p>#å†…å¾ªç¯å¯»æ‰¾alphaj<br>def innerL(i,oS):</p>
<pre><code>#è®¡ç®—è¯¯å·®
Ei=calcEk(oS,i)
#è¿èƒŒkktæ¡ä»¶
if(((oS.labelMat[i]*Ei&lt;-oS.tol)and(oS.alphas[i]&lt;oS.C))or\    
    ((oS.labelMat[i]*Ei&gt;oS.tol)and(oS.alphas[i]&gt;0))):
    j,Ej=selectJ(i,oS,Ei)
    alphaIold=alphas[i].copy();alphaJold=alphas[j].copy()
    #è®¡ç®—ä¸Šä¸‹ç•Œ
    if(oS.labelMat[i]!=oS.labelMat[j]):
        L=max(0,oS.alphas[j]-oS.alphas[i])
        H=min(oS.C,oS.C+oS.alphas[j]-oS.alphas[i])
    else:
        L=max(0,oS.alphas[j]+oS.alphas[i]-oS.C)
        H=min(oS.C,oS.alphas[j]+oS.alphas[i])
    if L==H:print(&quot;L==H&quot;);return 0
    #è®¡ç®—ä¸¤ä¸ªalphaå€¼
    eta=2.0*oS.X[i,:]*oS.X[j,:].T-oS.X[i,:]*oS.X[i,:].T-\
        oS.X[j,:]*oS.X[j,:].T
    if eta&gt;=0:print(&quot;eta&gt;=0&quot;);return 0
    oS.alphas[j]-=oS.labelMat[j]*(Ei-Ej)/eta
    oS.alphas[j]=clipAlpha(oS.alphas[j],H,L)
    updateEk(oS,j)
    if(abs(oS.alphas[j]-alphaJold)&lt;0.00001):
        print(&quot;j not moving enough&quot;);return 0
    oS.alphas[i]+=oS.labelMat[j]*oS.labelMat[i]*\
        (alphaJold-oS.alphas[j])
    updateEk(oS,i)
    #åœ¨è¿™ä¸¤ä¸ªalphaå€¼æƒ…å†µä¸‹ï¼Œè®¡ç®—å¯¹åº”çš„bå€¼
    #æ³¨ï¼Œéçº¿æ€§å¯åˆ†æƒ…å†µï¼Œå°†æ‰€æœ‰å†…ç§¯é¡¹æ›¿æ¢ä¸ºæ ¸å‡½æ•°K[i,j]
    b1=oS.b-Ei-oS.labelMat[i]*(oS.alphas[i]-alphaIold)*\
                oS.X[i,:]*oS.X[i,:].T-\
                oS.labelMat[j]*(oS.alphas[j]-alphaJold)*\
                oS.X[i,:]*oS.X[j,:].T
    b2=oS.b-Ej-oS.labelMat[i]*(oS.alphas[i]-alphaIold)*\
                oS.X[i,:]*oS.X[j,:].T-\
                oS.labelMat[j]*(oS.alphas[j]-alphaJold)*\
                oS.X[j,:]*oS.X[j,:].T
    if(0&lt;oS.alphas[i])and (oS.C&gt;oS.alphas[i]):oS.b=b1
    elif(0&lt;oS.alphas[j])and (oS.C&gt;oS.alphas[j]):oS.b=b2
    else:oS.b=(b1+b2)/2.0
    #å¦‚æœæœ‰alphaå¯¹æ›´æ–°
    return 1
        #å¦åˆ™è¿”å›0
        else return 0
</code></pre><p>å¤åˆ¶ä»£ç <br>     æ˜¾ç„¶ï¼Œä¸Šé¢çš„SMOå®Œæ•´ä»£ç æ˜¯åˆ†ä¸ºå†…å¤–ä¸¤ä¸ªå¾ªç¯å‡½æ•°æ¥ç¼–å†™çš„ï¼Œé‡‡å–è¿™æ ·çš„ç»“æ„å¯ä»¥æ›´æ–¹ä¾¿æˆ‘ä»¬å»ç†è§£é€‰å–ä¸¤ä¸ªalphaçš„è¿‡ç¨‹ï¼›æ—¢ç„¶ï¼Œæˆ‘ä»¬å·²ç»è®¡ç®—å‡ºäº†alphaå€¼å’Œbå€¼ï¼Œé‚£ä¹ˆæ˜¾ç„¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å…¬å¼w<em>=Î£Î±i</em>label[i]<em>dataMat[i,:]è®¡ç®—å‡ºç›¸åº”çš„æƒå€¼å‚æ•°ï¼Œç„¶åå°±å¯ä»¥å¾—åˆ°é—´éš”è¶…å¹³é¢çš„å…¬å¼w</em>x+b<em>æ¥å®Œæˆæ ·æœ¬çš„åˆ†ç±»äº†ï¼Œç”±äºSVMç®—æ³•æ˜¯ä¸€ç§äºŒç±»åˆ†ç±»ç®—æ³•ï¼Œæ­£å€¼ä¸º1ï¼Œè´Ÿå€¼ä¸º-1ï¼Œå³åˆ†ç±»çš„å†³ç­–å‡½æ•°ä¸ºè·³è·ƒå‡½æ•°signï¼ˆw</em>x+b*ï¼‰</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€å°æ®µæµ‹è¯•ä»£ç ï¼Œæ¥åˆ©ç”¨SMOç®—æ³•å¾—åˆ°çš„alphaå€¼å’Œbå€¼ï¼Œè®¡ç®—åˆ†ç±»å†³ç­–å‡½æ•°ï¼Œä»è€Œå®ç°å…·ä½“çš„é¢„æµ‹åˆ†ç±»äº†</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#æ±‚å‡ºäº†alphaå€¼å’Œå¯¹åº”çš„bå€¼ï¼Œå°±å¯ä»¥æ±‚å‡ºå¯¹åº”çš„wå€¼ï¼Œä»¥åŠåˆ†ç±»å‡½æ•°å€¼<br>def predict(alphas,dataArr,classLabels):<br>    X=mat(dataArr);labelMat=mat(classLabels)<br>    m,n=shape(X)<br>    w=zeros((n,1))<br>    for i in range(m):<br>        w+=multiply(alphas[i]<em>labelMat[i],X[i,:].T)<br>    result=dataArr[0]</em>mat(ws)+b<br>    return sign(result)</p>
<p>å¤åˆ¶ä»£ç <br>      çœ‹ä¸€ä¸‹åˆ†ç±»æ•ˆæœï¼š</p>
<p>3 æ ¸å‡½æ•°</p>
<p>ã€€ã€€æ ¸å‡½æ•°çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†è§£å†³éçº¿æ€§åˆ†ç±»é—®é¢˜ï¼Œé€šè¿‡æ ¸æŠ€å·§å°†ä½ç»´çš„éçº¿æ€§ç‰¹å¾è½¬åŒ–ä¸ºé«˜ç»´çš„çº¿æ€§ç‰¹å¾ï¼Œä»è€Œå¯ä»¥é€šè¿‡çº¿æ€§æ¨¡å‹æ¥è§£å†³éçº¿æ€§çš„åˆ†ç±»é—®é¢˜ã€‚</p>
<p>å¦‚ä¸‹å›¾ï¼Œå½“æ•°æ®é›†ä¸æ˜¯çº¿æ€§å¯åˆ†æ—¶ï¼Œå³æ•°æ®é›†åˆ†å¸ƒæ˜¯ä¸‹é¢çš„åœ†å½¢è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>ã€€ã€€æ˜¾ç„¶ï¼Œæ­¤æ—¶æ•°æ®é›†çº¿æ€§ä¸å¯åˆ†ï¼Œæˆ‘ä»¬æ— æ³•ç”¨ä¸€ä¸ªè¶…å¹³é¢æ¥å°†ä¸¤ç§æ ·æœ¬åˆ†éš”å¼€ï¼›é‚£ä¹ˆæˆ‘ä»¬å°±å¸Œæœ›å°†è¿™äº›æ•°æ®è¿›è¡Œè½¬åŒ–ï¼Œè½¬åŒ–ä¹‹åçš„æ•°æ®å°±èƒ½å¤Ÿé€šè¿‡ä¸€ä¸ªçº¿æ€§è¶…å¹³é¢å°†ä¸åŒç±»åˆ«çš„æ ·æœ¬åˆ†å¼€ï¼Œè¿™å°±éœ€è¦æ ¸å‡½æ•°ï¼Œæ ¸å‡½æ•°çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†è§£å†³éçº¿æ€§åˆ†ç±»é—®é¢˜ï¼Œé€šè¿‡æ ¸æŠ€å·§å°†ä½ç»´çš„éçº¿æ€§ç‰¹å¾è½¬åŒ–ä¸ºé«˜ç»´çš„çº¿æ€§ç‰¹å¾ï¼Œä»è€Œå¯ä»¥é€šè¿‡çº¿æ€§æ¨¡å‹æ¥è§£å†³éçº¿æ€§çš„åˆ†ç±»é—®é¢˜ã€‚</p>
<p>ã€€ã€€è€Œå¾„å‘åŸºæ ¸å‡½æ•°ï¼Œæ˜¯SVMä¸­å¸¸ç”¨çš„ä¸€ä¸ªæ ¸å‡½æ•°ã€‚å¾„å‘åŸºæ ¸å‡½æ•°æ˜¯ä¸€ä¸ªé‡‡ç”¨å‘é‡ä½œä¸ºè‡ªå˜é‡çš„å‡½æ•°ï¼Œèƒ½å¤ŸåŸºäºå‘é‡è·ç¦»è¿ç®—è¾“å‡ºä¸€ä¸ªæ ‡é‡ã€‚å¾„å‘åŸºæ ¸å‡½æ•°çš„é«˜æ–¯ç‰ˆæœ¬å…¬å¼ä¸ºï¼š</p>
<p>ã€€ã€€k(xï¼Œy)=exp(-||x-y||2/2Ïƒ2),å…¶ä¸­ï¼ŒÏƒä¸ºåˆ°è¾¾ç‡ï¼Œå†³å®šäº†å‡½æ•°å€¼è·Œè½è‡³0çš„é€Ÿåº¦</p>
<p>ã€€ã€€ä¸‹é¢é€šè¿‡ä»£ç ç¼–å†™é«˜æ–¯æ ¸å‡½æ•°ï¼š</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#å¾„å‘åŸºæ ¸å‡½æ•°æ˜¯svmå¸¸ç”¨çš„æ ¸å‡½æ•°</p>
<p>#æ ¸è½¬æ¢å‡½æ•°<br>def kernelTrans(X,A,kTup):<br>    m,n=shape(X)<br>    K=mat(zeros((m,1)))</p>
<pre><code>#å¦‚æœæ ¸å‡½æ•°ç±»å‹ä¸º&apos;lin&apos;
if kTup[0]==&apos;lin&apos;:K=X*A.T
#å¦‚æœæ ¸å‡½æ•°ç±»å‹ä¸º&apos;rbf&apos;:å¾„å‘åŸºæ ¸å‡½æ•°
#å°†æ¯ä¸ªæ ·æœ¬å‘é‡åˆ©ç”¨æ ¸å‡½æ•°è½¬ä¸ºé«˜ç»´ç©ºé—´
elif kTup[0]==&apos;rbf&apos;
    for j in range(m):
        deltaRow=X[j,:]-A
        K[j]=deltaRow*deltaRow.T
    K=exp(K/(-1*kTup[1]**2))
elseï¼šraise NameError(&apos;Houston we Have a Problem -- \
That Kernel is not recognised&apos;)
return K
</code></pre><p>#å¯¹æ ¸å‡½æ•°å¤„ç†çš„æ ·æœ¬ç‰¹å¾ï¼Œå­˜å…¥åˆ°optStructä¸­<br>class optStructï¼š<br>    def <strong>init</strong>(self,dataMatIn,classLabels,C,toler,kTup):<br>        self.X=dataMatIn<br>        self.labelMat=classLabels<br>        self.C=C<br>        self.tol=toler<br>        self.m=shape(dataMatIn)[0]<br>        self.alphas=mat(zeros((self.m,1)))<br>        self.b=0<br>        self.eCache=mat(zeros((self.m,2)))<br>        self.K=mat(zeros((self.m,self.m)))<br>        for i in range(self.m):<br>            self.K[:,i]=kernelTrans(self.X,self.X[i,:],kTup)<br>å¤åˆ¶ä»£ç <br>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™é‡Œå¼•å…¥äº†ä¸€ä¸ªå˜é‡kTup,kTupæ˜¯ä¸€ä¸ªåŒ…å«æ ¸ä¿¡æ¯çš„å…ƒç»„ï¼Œå®ƒæä¾›äº†é€‰å–çš„æ ¸å‡½æ•°çš„ç±»å‹ï¼Œæ¯”å¦‚çº¿æ€§â€™linâ€™æˆ–è€…å¾„å‘åŸºæ ¸å‡½æ•°â€™rbfâ€™;ä»¥åŠç”¨æˆ·æä¾›çš„åˆ°è¾¾ç‡Ïƒ</p>
<p>ã€€ã€€æœ‰äº†é«˜æ–¯æ ¸å‡½æ•°ä¹‹åï¼Œæˆ‘ä»¬åªè¦å°†ä¸Šé¢çš„SMOç®—æ³•ä¸­æ‰€æœ‰çš„å†…ç§¯é¡¹æ›¿æ¢ä¸ºæ ¸å‡½æ•°å³å¯ï¼Œæ¯”å¦‚è®²dataMat[i,:]*dataMat[j,:].Tæ›¿æ¢ä¸ºk[i,j]å³å¯ï¼Œæ›¿æ¢æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p>å¤åˆ¶ä»£ç <br>def innerL(i,oS):</p>
<pre><code>#è®¡ç®—è¯¯å·®
Ei=calcEk(oS,i)
#è¿èƒŒkktæ¡ä»¶
if(((oS.labelMat[i]*Ei&lt;-oS.tol)and(oS.alphas[i]&lt;oS.C))or\    
    ((oS.labelMat[i]*Ei&gt;oS.tol)and(oS.alphas[i]&gt;0))):
    j,Ej=selectJ(i,oS,Ei)
    alphaIold=alphas[i].copy();alphaJold=alphas[j].copy()
    #è®¡ç®—ä¸Šä¸‹ç•Œ
    if(oS.labelMat[i]!=oS.labelMat[j]):
        L=max(0,oS.alphas[j]-oS.alphas[i])
        H=min(oS.C,oS.C+oS.alphas[j]-oS.alphas[i])
    else:
        L=max(0,oS.alphas[j]+oS.alphas[i]-oS.C)
        H=min(oS.C,oS.alphas[j]+oS.alphas[i])
    if L==H:print(&quot;L==H&quot;);return 0
    #è®¡ç®—ä¸¤ä¸ªalphaå€¼
    eta=2.0*oS.K[i,j]-oS.K[i,i]-oS.K[j,j]
    if eta&gt;=0:print(&quot;eta&gt;=0&quot;);return 0
    oS.alphas[j]-=oS.labelMat[j]*(Ei-Ej)/eta
    oS.alphas[j]=clipAlpha(oS.alphas[j],H,L)
    updateEk(oS,j)
    if(abs(oS.alphas[j]-alphaJold)&lt;0.00001):
        print(&quot;j not moving enough&quot;);return 0
    oS.alphas[i]+=oS.labelMat[j]*oS.labelMat[i]*\
        (alphaJold-oS.alphas[j])
    updateEk(oS,i)
    #åœ¨è¿™ä¸¤ä¸ªalphaå€¼æƒ…å†µä¸‹ï¼Œè®¡ç®—å¯¹åº”çš„bå€¼
    #æ³¨ï¼Œéçº¿æ€§å¯åˆ†æƒ…å†µï¼Œå°†æ‰€æœ‰å†…ç§¯é¡¹æ›¿æ¢ä¸ºæ ¸å‡½æ•°K[i,j]
    b1=oS.b-Ei-oS.labelMat[i]*(oS.alphas[i]-alphaIold)*\
                oS.K[i,i]-\
                oS.labelMat[j]*(oS.alphas[j]-alphaJold)*\
                oS.k[i,j]
    b2=oS.b-Ej-oS.labelMat[i]*(oS.alphas[i]-alphaIold)*\
                oS.k[i,j]-\
                oS.labelMat[j]*(oS.alphas[j]-alphaJold)*\
                oS.k[i,j]
    if(0&lt;oS.alphas[i])and (oS.C&gt;oS.alphas[i]):oS.b=b1
    elif(0&lt;oS.alphas[j])and (oS.C&gt;oS.alphas[j]):oS.b=b2
    else:oS.b=(b1+b2)/2.0
    #å¦‚æœæœ‰alphaå¯¹æ›´æ–°
    return 1
        #å¦åˆ™è¿”å›0
        else return 0
</code></pre><p>å¤åˆ¶ä»£ç <br>ã€€æœ‰äº†æ ¸å‡½æ•°ï¼Œæˆ‘ä»¬å°±èƒ½å¯¹éçº¿æ€§çš„æ•°æ®é›†è¿›è¡Œåˆ†ç±»é¢„æµ‹äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç¼–å†™ä»£ç åˆ©ç”¨æ ¸å‡½æ•°è¿›è¡Œæµ‹è¯•ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œåœ¨ä¼˜åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦æ‰¾åˆ°æ”¯æŒå‘é‡å’Œå…¶å¯¹åº”çš„alphaå€¼ï¼Œè€Œå¯¹äºå…¶ä»–çš„æ ·æœ¬å€¼å¯ä»¥ä¸ç”¨ç®¡ï¼Œç”šè‡³å¯ä»¥èˆå¼ƒï¼Œå› ä¸ºè¿™äº›æ ·æœ¬å°†ä¸ä¼šå¯¹åˆ†ç±»é¢„æµ‹å‡½æ•°é€ æˆä»»ä½•å½±å“ã€‚è¿™ä¹Ÿå°±æ˜¯SVMç›¸æ¯”KNNç®—æ³•çš„ä¼˜ç§€çš„åœ°æ–¹æ‰€åœ¨</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#æµ‹è¯•æ ¸å‡½æ•°</p>
<p>#ç”¨æˆ·æŒ‡å®šåˆ°è¾¾ç‡<br>def testRbf(k1=1.3):</p>
<pre><code>#ç¬¬ä¸€ä¸ªæµ‹è¯•é›†
dataArr,labelArr=loadDataSet(&apos;testSetRBF.txt&apos;)
b,alphas=smoP(dataArr,labelArr,200,0.0001,10000,(&apos;rbf&apos;,k1))
dataMat=mat(dataArr);labelMat=mat(labelArr).transpose()
svInd=nonzero(alphas.A&gt;0)[0]
sVs=dataMat[svInd]
labelSV=labelMat[svInd]
print(&quot;there are %d Support Vectors&quot;,%shape(sVs)[0])
m,n=shape(dataMat)
errorCount=0
for i in range(m):
    kernelEval=kernelTrans(sVs,dataMat[i,:],(&apos;rbf&apos;,k1))
    predict=kernelEval.T*multiply(labelSV,alphas[svInd])+b
    if sign(predict)!=sign(labelArr[i]):errorCount+=1
print(&quot;the training error rate is: %f&quot;,%(float(errorCount)/m))
#ç¬¬äºŒä¸ªæµ‹è¯•é›†
dataArr,labelArr=loadDataSet(&apos;testSetRBF2.txt&apos;)
dataMat=mat(dataArr);labelMat=mat(labelArr).transpose()
errorCount=0
m,n=shape(dataMat)
for i in range(m):
    kernelEval=kernelTrans(sVs,dataMat[i,:],(&apos;rbf&apos;,k1))
    predict=kernelEval.T*multiply(labelSV,alphas[svInd])+b
    if sign(predict)!=sign(labelArr[i]):errorCount+=1
print(&quot;the training error rate is: %f&quot;,%(float(errorCount)/m))
</code></pre><p>å¤åˆ¶ä»£ç <br>     å½“ç”¨æˆ·è¾“å…¥Ïƒ=1.3æ—¶çš„å®éªŒç»“æœä¸ºï¼š</p>
<pre><code> å½“Ïƒ=0.1æ—¶å®éªŒç»“æœä¸ºï¼š



é€šè¿‡è¾“å…¥ä¸åŒçš„Ïƒå€¼ï¼ˆå½“ç„¶ï¼Œè¿­ä»£æ¬¡æ•°ä¹Ÿä¼šæœ‰ä¸€å®šçš„å½±å“ï¼Œæˆ‘ä»¬åªè®¨è®ºÏƒå€¼ï¼‰ï¼Œæˆ‘ä»¬å‘ç°æµ‹è¯•é”™è¯¯ç‡ï¼Œè®­ç»ƒè¯¯å·®ç‡ï¼Œæ”¯æŒå‘é‡ä¸ªæ•°éƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œåœ¨ä¸€å®šçš„èŒƒå›´å†…ï¼Œæ”¯æŒå‘é‡æ•°ç›®çš„ä¸‹é™ï¼Œä¼šä½¿å¾—è®­ç»ƒé”™è¯¯ç‡å’Œæµ‹è¯•é”™è¯¯ç‡éƒ½ä¸‹é™ï¼Œä½†æ˜¯å½“æŠµè¾¾æŸå¤„çš„æœ€ä¼˜å€¼æ—¶ï¼Œå†æ¬¡é€šè¿‡å¢å¤§Ïƒå€¼çš„æ–¹æ³•å‡å°‘æ”¯æŒå‘é‡ï¼Œæ­¤æ—¶è®­ç»ƒé”™è¯¯ç‡ä¸‹é™ï¼Œè€Œæµ‹è¯•è¯¯å·®ä¸Šå‡
</code></pre><p>ã€€ã€€ç®€è¨€ä¹‹ï¼Œå¯¹äºå›ºå®šçš„æ•°æ®é›†ï¼Œæ”¯æŒå‘é‡çš„æ•°ç›®å­˜åœ¨ä¸€ä¸ªæœ€ä¼˜å€¼ï¼Œå¦‚æœæ”¯æŒå‘é‡å¤ªå°‘ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªå¾ˆå·®çš„å†³ç­–è¾¹ç•Œï¼›è€Œæ”¯æŒå‘é‡å¤ªå¤šï¼Œä¹Ÿç›¸å½“äºåˆ©ç”¨æ•´ä¸ªæ•°æ®é›†è¿›è¡Œåˆ†ç±»ï¼Œå°±ç±»ä¼¼äºKNNç®—æ³•ï¼Œæ˜¾ç„¶è¿ç®—é€Ÿåº¦ä¸é«˜ã€‚</p>
<p>ä¸‰ï¼ŒSVMå®ä¾‹ï¼šæ‰‹å†™è¯†åˆ«é—®é¢˜</p>
<p>ã€€ã€€ç›¸è¾ƒäºç¬¬äºŒå¼ çš„KNNç®—æ³•ï¼Œå°½ç®¡KNNä¹Ÿèƒ½å–å¾—ä¸é”™çš„æ•ˆæœï¼›ä½†æ˜¯ä»èŠ‚çœå†…å­˜çš„è§’åº¦å‡ºå‘ï¼Œæ˜¾ç„¶SVMç®—æ³•æ›´èƒœä¸€ç­¹ï¼Œå› ä¸ºå…¶ä¸éœ€è¦ä¿å­˜çœŸä¸ªæ•°æ®é›†ï¼Œè€Œåªéœ€è¦å…¶ä½œç”¨çš„æ”¯æŒå‘é‡ç‚¹ï¼Œè€Œå–å¾—ä¸é”™çš„åˆ†ç±»æ•ˆæœã€‚</p>
<p>å¤åˆ¶ä»£ç </p>
<p>#å®ä¾‹ï¼šæ‰‹å†™è¯†åˆ«é—®é¢˜</p>
<p>#æ”¯æŒå‘é‡æœºç”±äºåªéœ€è¦ä¿å­˜æ”¯æŒå‘é‡ï¼Œæ‰€ä»¥ç›¸å¯¹äºKNNä¿å­˜æ•´ä¸ªæ•°æ®é›†å ç”¨æ›´å°‘å†…å­˜</p>
<p>#ä¸”å–å¾—å¯æ¯”çš„æ•ˆæœ</p>
<p>#åŸºäºsvmçš„æ‰‹å†™æ•°å­—è¯†åˆ«<br>def loadImages(dirName):<br>    from os import listdir<br>    hwLabels=[]<br>    trainingFileList=listdir(dirName)<br>    m=len(trainingFileList)<br>    trainingMat=zeros((m,1024))<br>    for i in range(m):<br>        fileNameStr=trainingFileList[i]<br>        fileStr=fileNameStr.split(â€˜.â€™)[0]<br>        classNumStr=int(fileStr.split(â€˜_â€™)[0])<br>        if classNumStr==9:hwLabels.append(-1)<br>        else:hwLabels.append(1)<br>        trainingMat[i,:]=img2vector(â€˜%s/%sâ€™,%(dirName,fileNameStr))<br>    return hwLabels,trainingMat</p>
<p>#å°†å›¾åƒè½¬ä¸ºå‘é‡<br>def img2vector(fileaddir):<br>    featVec=zeros((1,1024))<br>    fr=open(filename)<br>    for i in range(32):<br>        lineStr=fr.readline()<br>        for j in range(32):<br>            featVec[0,32*i+j]=int(lineStr[j])<br>    return featVec</p>
<p>#åˆ©ç”¨svmæµ‹è¯•æ•°å­—<br>def testDigits(kTup=(â€˜rbfâ€™,10)):</p>
<pre><code>#è®­ç»ƒé›†
dataArr,labelArr=loadDataSet(&apos;trainingDigits&apos;)
b,alphas=smoP(dataArr,labelArr,200,0.0001,10000,kTup)
dataMat=mat(dataArr);labelMat=mat(labelArr).transpose()
svInd=nonzero(alphas.A&gt;0)[0]
sVs=dataMat[svInd]
labelSV=labelMat[svInd]
print(&quot;there are %d Support Vectors&quot;,%shape(sVs)[0])
m,n=shape(dataMat)
errorCount=0
for i in range(m):
    kernelEval=kernelTrans(sVs,dataMat[i,:],kTup)
    predict=kernelEval.T*multiply(labelSV,alphas[svInd])+b
    if sign(predict)!=sign(labelArr[i]):errorCount+=1
print(&quot;the training error rate is: %f&quot;,%(float(errorCount)/m))
#æµ‹è¯•é›†
dataArr,labelArr=loadDataSet(&apos;testDigits.txt&apos;)
dataMat=mat(dataArr);labelMat=mat(labelArr).transpose()
errorCount=0
m,n=shape(dataMat)
for i in range(m):
    kernelEval=kernelTrans(sVs,dataMat[i,:],(&apos;rbf&apos;,k1))
    predict=kernelEval.T*multiply(labelSV,alphas[svInd])+b
    if sign(predict)!=sign(labelArr[i]):errorCount+=1
print(&quot;the training error rate is: %f&quot;,%(float(errorCount)/m))
</code></pre><p>å¤åˆ¶ä»£ç <br>ä¸‹é¢æ¥çœ‹ä¸€ä¸‹ï¼Œåœ¨kTup=(â€˜rbfâ€™,20)æƒ…å†µä¸‹çš„æµ‹è¯•è¯¯å·®ç‡å’Œæ”¯æŒå‘é‡ä¸ªæ•°æƒ…å†µ</p>
<p>å¹¶ä¸”é€šè¿‡å°è¯•ä¸åŒçš„Ïƒå€¼ï¼Œä»¥åŠå°è¯•äº†çº¿æ€§æ ¸å‡½æ•°ï¼Œå¯ä»¥å¾—åˆ°å…³äºä¸åŒÏƒå€¼çš„ä¹¦å†™æ•°å­—è¯†åˆ«æ€§èƒ½ï¼š</p>
<p>å†…æ ¸æ¨¡å¼ï¼Œè®¾ç½®    è®­ç»ƒé”™è¯¯ç‡(%)    æµ‹è¯•é”™è¯¯ç‡(%)    æ”¯æŒå‘é‡æ•°<br>rbf,0.1    0    52    402<br>rbf,5    0    3.2    402<br>rbf,10    0    0.5    99<br>rbf,50    0.2    2.2    41<br>rbf,100    4.5    4.3    26<br>Linear    2.7    2.2    38<br>      ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒÏƒå€¼åœ¨å–10æ—¶å–å¾—äº†æœ€å¥½çš„åˆ†ç±»æ•ˆæœï¼Œè¿™ä¹Ÿå°è¯äº†æˆ‘ä»¬ä¸Šé¢çš„å™è¿°ã€‚å³å¯¹äºå›ºå®šçš„æ•°æ®é›†ï¼Œå­˜åœ¨æœ€ä¼˜çš„æ”¯æŒå‘é‡ä¸ªæ•°ï¼Œä½¿å¾—åˆ†ç±»é”™è¯¯ç‡æœ€ä½ã€‚æ”¯æŒå‘é‡çš„ä¸ªæ•°ä¼šéšç€Ïƒå€¼çš„å¢å¤§è€Œé€æ¸å‡å°‘ï¼Œä½†æ˜¯åˆ†ç±»é”™è¯¯ç‡ç¡®å®ä¸€ä¸ªå…ˆé™ä½åå‡é«˜çš„è¿‡ç¨‹ã€‚å³æœ€å°çš„åˆ†ç±»é”™è¯¯ç‡å¹¶ä¸æ„å‘³ç€æœ€å°‘çš„æ”¯æŒå‘é‡ä¸ªæ•°ã€‚</p>
<p>4 æ€»ç»“</p>
<p>ã€€ã€€æ”¯æŒå‘é‡æœºæ˜¯ä¸€ç§é€šè¿‡æ±‚è§£å‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜æ¥è§£å†³åˆ†ç±»é—®é¢˜çš„ç®—æ³•ï¼Œå…·æœ‰è¾ƒä½çš„æ³›åŒ–é”™è¯¯ç‡ã€‚è€ŒSMOç®—æ³•å¯ä»¥é€šè¿‡æ¯æ¬¡åªä¼˜åŒ–ä¸¤ä¸ªalphaå€¼æ¥åŠ å¿«SVMçš„è®­ç»ƒé€Ÿåº¦ã€‚</p>
<p>ã€€ã€€æ ¸æŠ€å·§æ˜¯å°†æ•°æ®ç”±ä½ç»´ç©ºé—´æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ï¼Œå¯ä»¥å°†ä¸€ä¸ªä½ç»´ç©ºé—´ä¸­çš„éçº¿æ€§é—®é¢˜è½¬æ¢ä¸ºé«˜ç»´ç©ºé—´ä¸‹çš„çº¿æ€§é—®é¢˜æ¥æ±‚è§£ã€‚è€Œå¾„å‘åŸºæ ¸å‡½æ•°æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„åº¦é‡ä¸¤ä¸ªå‘é‡è·ç¦»çš„æ ¸å‡½æ•°ã€‚</p>
<p>ã€€ã€€æœ€åï¼Œæ”¯æŒå‘é‡æœºçš„ä¼˜ç¼ºç‚¹ï¼š</p>
<p>ã€€ã€€ã€€ä¼˜ç‚¹ï¼šæ³›åŒ–é”™è¯¯ç‡ä½ï¼Œè®¡ç®—å¼€é”€ä¸å¤§</p>
<p>ã€€ã€€ã€€ç¼ºç‚¹ï¼šå¯¹å‚æ•°è°ƒèŠ‚å’Œæ ¸å‡½æ•°çš„é€‰æ‹©æ•æ„Ÿï¼Œä¸”ä»…é€‚ç”¨äºäºŒç±»åˆ†ç±»</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
        <div class="post-widgets">
        
          <div class="wp_rating">
            <div id="wpac-rating"></div>
          </div>
        

        

        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/01/16/æ¸¯ç‰ˆä¹¦ã€Šä½ å¿«ä¹æ‰€ä»¥ä½ æˆåŠŸã€‹/" rel="next" title="æ¸¯ç‰ˆä¹¦ã€Šä½ å¿«ä¹æ‰€ä»¥ä½ æˆåŠŸã€‹">
                <i class="fa fa-chevron-left"></i> æ¸¯ç‰ˆä¹¦ã€Šä½ å¿«ä¹æ‰€ä»¥ä½ æˆåŠŸã€‹
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/17/åŸºç¡€ç¯‡äºŒè¿›åˆ¶ä½æ“ä½œ/" rel="prev" title="åŸºç¡€ç¯‡äºŒè¿›åˆ¶ä½æ“ä½œ">
                åŸºç¡€ç¯‡äºŒè¿›åˆ¶ä½æ“ä½œ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="joyoQi" />
            
              <p class="site-author-name" itemprop="name">joyoQi</p>
              <p class="site-description motion-element" itemprop="description">iOS ai 2b    è¿½é£ç­çš„å­©å­</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                ç¥å¥‡çš„é“¾æ¥
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://music.163.com/#/user/home?id=86590096" title="ğŸ˜† ç½‘æ˜“äº‘éŸ³ä¹ ğŸ˜†" target="_blank">ğŸ˜† ç½‘æ˜“äº‘éŸ³ä¹ ğŸ˜†</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://coldplay.com/" title="Coldplay Official Website" target="_blank">Coldplay Official Website</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://elonmusknews.org/" title="è·å– Elon Musk çš„æ–°é—»" target="_blank">è·å– Elon Musk çš„æ–°é—»</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.bilibili.com/video/av6211226/" title="å°¼å¤æ‹‰Â·ç‰¹æ–¯æ‹‰ï¼šå‘æ˜äº†ç°ä»£ä¸–ç•Œçš„äºº" target="_blank">å°¼å¤æ‹‰Â·ç‰¹æ–¯æ‹‰ï¼šå‘æ˜äº†ç°ä»£ä¸–ç•Œçš„äºº</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://reuixiy.github.io/about/" title="å…³äºæ­¤åšå®¢" target="_blank">å…³äºæ­¤åšå®¢</a>
                  </li>
                
              </ul>
            </div>
          

         
          <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=298 height=52 src="//music.163.com/outchain/player?type=2&id=25721228&auto=0&height=32"></iframe>

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016ã€Œç„¡è«–åšä»€éº¼äº‹ï¼Œç¸½æ˜¯è¦åšåˆ°çœŸå¿ƒçš„çœŸå­—ã€‚äº‹ç„¡å¤§å°ï¼Œçš†é ˆå¦‚æ­¤ã€‚ã€ &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">joyoQi</span>

  
</div>


  <div class="powered-by">ä¸»é¢˜|<a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> </div>








        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user-circle-o"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      <i class="fa fa-eye"></i>
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  

  
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  

  
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script>
  

  
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.min.js"></script>
  

  
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.ui.min.js"></script>
  

  
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("", "");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  
  <script type="text/javascript">
  wpac_init = window.wpac_init || [];
  wpac_init.push({widget: 'Rating', id: ,
    el: 'wpac-rating',
    color: 'f79533'
  });
  (function() {
    if ('WIDGETPACK_LOADED' in window) return;
    WIDGETPACK_LOADED = true;
    var mc = document.createElement('script');
    mc.type = 'text/javascript';
    mc.async = true;
    mc.src = '//embed.widgetpack.com/widget.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
  })();
  </script>


  

  

  

</body>
</html>
